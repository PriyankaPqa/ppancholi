parameters:
  nodeJsVersion: ''
  disableCache: ''
  packageFeed: ''
  testCommand: ''
  appName: ''

## Requires browserStack to be true in azure-pipelines.yml ##
jobs:
  - job: 'SmokeTestBrowserstack'
    displayName: 'Run tests with Browserstack'
    steps:
      - checkout: git://EMIS/crc-emis-frontend-tests@refs/heads/master

      - template: '../steps/inject-url-acceptance-tests.yml'
        parameters:
          appName: ${{ parameters.appName }}

      - template: tools/pipelines/steps/browserstack-steps.yml@emisFrontEnd
        parameters:
          nodeJsVersion: ${{ parameters.nodeJsVersion }}
          disableCache: ${{ parameters.disableCache }}
          packageFeed: ${{ parameters.packageFeed }}
          testCommand: ${{ parameters.testCommand }}


